extends layout
block content
    append head

    //- add page specific styles by appending to the head
    link(rel="stylesheet" href="/stylesheets/index.css")
    link(rel="stylesheet" href="/stylesheets/profile.css")
    script(src="/javascripts/unfollowTopics.js" type="module" defer)
    div(class="body-encapsulation")
      .profile-body
        .profile-header
            h2= user.username
            if sameUser
                h3(onclick=`window.location.href='/my-account'`) Edit Account
            div.bioContainer
                h4.bioTitle Biography
                p= user.biography
            img(src= `${user.imgUrl}`, alt= `Profile picture of ${user.username}`)
        .posts
            each post in posts
              a(href=`/posts/${post.id}` id="blog-card-link")
                div.blog(id=`post-${post.id}` class=`relevant-${post.topicId}`)
                  div(id="username")= post.User.username
                    span(id="topic-display")= post.Topic.name
                  div(id="title")= post.title
                  - var url = post.imgUrl;
                  - var urlString = `${url}`;
                  div(id="blog_img")
                  img(src=`${urlString}` id="blog_img")
                  div(id="content") #{post.content}...
                  div(id="details")
        if sameUser
            .topics-container
                h2.topics-title Followed Topics
                each topic in user.Topics
                    div.topics(id=`topic-${topic.id}-followed`)= topic.name
